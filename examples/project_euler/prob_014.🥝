limit = 1000000
lengths = [0] * limit
lengths[1] = 1

#maxLength = 0
#maxNumber = 0

for i in [2 .. limit - 1] do
    n = i
    length = 0

    while n != 1 && n >= i do
        length += 1

        if n % 2 == 0 
            n /= 2
        else 
            n = 3 * n + 1
        end
    end
    
    lengths[i] = length + lengths[n]
    #chain = lengths[i]
    #println "num = " + i + ", chain = " + chain
end


#println "\nThe number under ${limit} that produces the longest Collatz sequence is ${maxNumber} with a length of ${maxLength}"