fn main()
  import "@kiwi/math"
  list = math::random_set(0, 20, 10)
  println("input: ${list}\noutput: ${bubblesort(list)}")
end

fn bubblesort(list)
  limit = list.size() - 1
  sorted = false

  while !sorted do
    swaps = 0
    
    for element, index in list do
      break when index + 1 > limit
      first = element
      second = list[index + 1]
      
      if first > second
        swaps += 1
        list[index] = second
        list[index + 1] = first
      end
    end

    sorted = swaps == 0
  end

  return list
end

main()