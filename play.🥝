fn main()
  import "@kiwi/math"
  list = math::random_set(0, 100, 50)
  println("input: ${list}")
  println("output: ${bubblesort(list)}")
end

fn bubblesort(list)
  limit = list.size() - 1

  while true do
    swaps = 0
    
    for element, index in list do
      break when index + 1 > limit
      first = element
      second = list[index + 1]
      
      if first > second
        swaps += 1
        list[index] = second
        list[index + 1] = first
      end
    end

    break when swaps == 0
  end

  return list
end

main()